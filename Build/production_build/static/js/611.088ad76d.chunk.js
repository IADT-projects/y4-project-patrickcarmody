"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[611],{19354:function(t,e,i){i(72791);var n=i(54270),s=i(80184);e.Z=function(t){var e=t.title,i=t.description,r=t.children;return(0,s.jsxs)("div",{children:[(0,s.jsxs)(n.q,{children:[(0,s.jsx)("title",{children:e}),(0,s.jsx)("meta",{name:"description",content:i})]}),r]})}},96099:function(t,e,i){var n=i(29439),s=i(93044),r=i(72791),a=i(80184);e.Z=function(t){var e=t.user,i=t.size,o=(0,r.useState)(!1),c=(0,n.Z)(o,2),d=c[0],l=c[1];return(0,r.useEffect)((function(){e.image&&e.image.length>0&&l(!0)}),[e]),(0,a.jsx)(a.Fragment,{children:d?(0,a.jsx)(s.Z,{src:"https://res.cloudinary.com/dzooewr3a/image/upload/v1680787491/".concat(e.image,".png"),sx:{height:"".concat(i,"px"),width:"".concat(i,"px")}}):(0,a.jsx)(s.Z,{sx:{height:"".concat(i,"px"),width:"".concat(i,"px"),fontSize:"".concat(i/3,"px"),bgcolor:"#4694fa"},children:e.first_name.charAt(0)})})}},40077:function(t,e,i){var n=i(31243);e.Z=n.Z.create({baseURL:"https://us-central1-crowdfunder-e7a8f.cloudfunctions.net/api"})},58124:function(t,e,i){var n=i(38308);e.Z=function(t,e){var i,s=(0,n.PJ)({address:t,abi:[{name:"deposit",type:"function",stateMutability:"payable",inputs:[],outputs:[]}],functionName:"deposit",overrides:{value:e}}),r=s.config,a=s.error,o=s.isError,c=(0,n.GG)(r),d=c.data,l=c.write,x=c.error,h=c.isError,u=(0,n.BX)({hash:null===d||void 0===d?void 0:d.hash});return{deposit:l,isLoading:u.isLoading,isSuccess:u.isSuccess,isError:o||h,error:null===(i=a||x)||void 0===i?void 0:i.message}}},58610:function(t,e,i){var n=i(38308);e.Z=function(t,e,i,s){var r=(0,n.do)({address:t,abi:e,functionName:i,args:s,watch:!0});return{data:r.data,error:r.error,isLoading:r.isLoading,isSuccess:r.isSuccess,isError:r.isError}}},50611:function(t,e,i){i.r(e),i.d(e,{default:function(){return k}});var n=i(29439),s=i(72791),r=i(68870),a=i(13400),o=i(20890),c=i(94721),d=i(50533),l=i(36151),x=i(57689),h=i(53767),u=i(19218),p=i(61889),f=i(57482),g=i(19601),Z=i(59061),m=i(58610),j=i(80184),y=function(t){var e=t.campaign,i=(0,s.useState)(0),r=(0,n.Z)(i,2),a=r[0],c=r[1],d=(0,s.useState)(0),l=(0,n.Z)(d,2),x=l[0],h=l[1],u=(0,s.useState)(""),y=(0,n.Z)(u,2),w=y[0],b=y[1],v=(0,m.Z)(e.address,Z,"getTotalDeposits",[]),A=v.data;v.error,v.isLoading,v.isSuccess,v.isError;return(0,s.useEffect)((function(){A&&(c(g.formatEther(A)),h(a/e.goal*100),b(Math.round(x)))})),(0,j.jsxs)(p.ZP,{container:!0,spacing:1,px:2.5,children:[(0,j.jsx)(p.ZP,{item:!0,xs:12,children:(0,j.jsxs)(o.Z,{variant:"body2",children:["Progress (",w,"%)"]})}),(0,j.jsx)(p.ZP,{item:!0,xs:12,children:(0,j.jsx)(f.Z,{variant:"determinate",color:"secondary",value:x,sx:{height:8,borderRadius:1}})}),(0,j.jsx)(p.ZP,{item:!0,xs:6,children:(0,j.jsxs)(o.Z,{variant:"body2",children:[a," MATIC"]})}),(0,j.jsx)(p.ZP,{item:!0,xs:6,children:(0,j.jsxs)(o.Z,{variant:"body2",textAlign:"right",children:[e.goal," MATIC"]})})]})},w=i(73580),b=i(38308),v=i(58124),A=JSON.parse('[{"name":"getContribution","type":"function","stateMutability":"view","inputs":[{"internalType":"address","name":"contributor","type":"address"}],"outputs":[{"internalType":"uint256","name":"","type":"uint256"}]}]'),C=i(87337),S=function(t){var e=t.campaign,i=(0,s.useState)(""),a=(0,n.Z)(i,2),d=a[0],x=a[1],p=(0,s.useState)(0),f=(0,n.Z)(p,2),S=(f[0],f[1]),D=(0,s.useState)(0),E=(0,n.Z)(D,2),T=E[0],L=E[1],I=(0,s.useState)(0),M=(0,n.Z)(I,2),k=M[0],P=M[1],z=(0,w.parseEther)(d||"0"),R=(0,b.mA)(),_=R.address,G=R.isConnected,N=(0,b.KQ)({address:_}).data;(0,s.useEffect)((function(){N&&S(N.value),U&&L(g.formatEther(U)),Y&&P((0,w.formatEther)(Y))}));var J=(0,v.Z)(e.address,z),O=J.deposit,B=(J.isLoading,J.isSuccess,J.error,(0,m.Z)(e.address,Z,"getTotalDeposits",[])),U=B.data,V=(B.error,B.isLoading,B.isSuccess,B.isError,(0,m.Z)(e.address,A,"getContribution",[_])),Y=V.data;V.error,V.isLoading,V.isSuccess,V.isError;return(0,j.jsx)(r.Z,{sx:{display:"flex",width:"100%",height:"350px",justifyContent:"center",position:"relative"},children:(0,j.jsxs)(r.Z,{sx:{display:"flex",flexDirection:"column",width:"95%",height:"95%",boxShadow:"rgba(149, 157, 165, 0.2) 0px 8px 24px",position:"relative"},children:[!G&&(0,j.jsx)(r.Z,{sx:{position:"absolute",width:"100%",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:2,textAlign:"center"},children:(0,j.jsxs)(h.Z,{spacing:3,children:[(0,j.jsx)(o.Z,{variant:"h4",children:"Please connect your wallet to donate"}),(0,j.jsx)(C.tn,{})]})}),(0,j.jsxs)(r.Z,{sx:{position:"absolute",top:0,bottom:0,left:0,right:0,backgroundColor:"rgba(255, 255, 255, 0.3)",borderRadius:"16px",display:"flex",flexDirection:"column",filter:G?"none":"blur(5px)"},children:[(0,j.jsx)(o.Z,{mt:3,mb:2,variant:"h5",textAlign:"center",children:"Donate"}),(0,j.jsx)(y,{campaign:e}),(0,j.jsx)(u.Z,{type:"number",id:"amount",value:d,onChange:function(t){x(t.target.value)},placeholder:"Amount",sx:{mx:2,my:2}}),(0,j.jsx)(l.Z,{onClick:function(){null===O||void 0===O||O()},disabled:!O,variant:"contained",sx:{width:"85px",ml:2,mb:2},children:"Donate"}),(0,j.jsxs)(h.Z,{spacing:.5,alignItems:"center",children:[(0,j.jsx)(c.Z,{sx:{width:"90%",mb:1}}),(0,j.jsxs)(r.Z,{sx:{px:2,width:"100%",display:"flex",justifyContent:"center"},children:[(0,j.jsx)(o.Z,{variant:"body1",textAlign:"left",sx:{width:"50%"},children:"Total raised:"}),(0,j.jsxs)(o.Z,{variant:"body1",textAlign:"right",sx:{width:"50%"},children:[T," MATIC"]})]}),(0,j.jsxs)(r.Z,{sx:{px:2,width:"100%",display:"flex",justifyContent:"center"},children:[(0,j.jsx)(o.Z,{variant:"body1",textAlign:"left",sx:{width:"50%"},children:"Your donations:"}),(0,j.jsxs)(o.Z,{variant:"body1",textAlign:"right",sx:{width:"50%"},children:[k," MATIC"]})]})]})]})]})})},D=i(32636),E=i(19354),T=i(96099),L=i(40077),I=i(59369),M=function(t){var e=t.campaign,i=(0,x.s0)(),h=(0,s.useState)(0),u=(0,n.Z)(h,2),p=u[0],f=u[1],y=(0,s.useState)(0),w=(0,n.Z)(y,2),b=w[0],v=w[1],A=(0,s.useState)({image:"",first_name:"",last_name:""}),C=(0,n.Z)(A,2),M=C[0],k=C[1],P=new Date(Date.parse(e.createdAt)).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"});(0,s.useEffect)((function(){z&&v(g.formatEther(z))}));var z=(0,m.Z)(e.address,Z,"getTotalDeposits",[]).data,R="".concat(e.address.substring(0,6),"...").concat(e.address.substring(38));return(0,s.useEffect)((function(){L.Z.get("/users?address=".concat(e.creator)).then((function(t){k(t.data[0]),L.Z.get("/campaigns?creator=".concat(e.creator)).then((function(t){f(t.data.length)})).catch((function(t){console.log(t)}))})).catch((function(t){console.error(t)}))}),[]),(0,j.jsxs)(E.Z,{title:e.title,children:[(0,j.jsxs)(r.Z,{sx:{width:"100%",display:"flex",flexDirection:"row",alignItems:"center",alignContent:"center"},children:[(0,j.jsx)(a.Z,{onClick:function(){return i(-1)},children:(0,j.jsx)(D.Z,{})}),(0,j.jsx)(o.Z,{variant:"h3",marginY:2,children:e.title})]}),(0,j.jsxs)(r.Z,{sx:{width:"100%",display:"flex",flexDirection:{md:"row",xs:"column"}},children:[(0,j.jsxs)(r.Z,{sx:{display:"flex",flexDirection:"column",width:{md:"66%",xs:"100%"},boxShadow:"rgba(149, 157, 165, 0.2) 0px 8px 24px"},children:[(0,j.jsx)(r.Z,{component:"img",src:"https://res.cloudinary.com/dzooewr3a/image/upload/v1681903209/".concat(e.image,".png"),sx:{width:"100%",height:"275px",borderTopLeftRadius:"5px",borderTopRightRadius:"5px"}}),(0,j.jsxs)(r.Z,{sx:{display:"flex",flexDirection:"column",width:"100%",p:1,px:2,whiteSpace:"pre-wrap"},children:[(0,j.jsx)(o.Z,{variant:"body1",children:e.description}),(0,j.jsxs)(I.Z,{spacing:1,children:[(0,j.jsx)(o.Z,{mt:2,mb:1,variant:"h5",textAlign:"left",children:"Campaign details"}),(0,j.jsx)(c.Z,{}),(0,j.jsxs)(r.Z,{sx:{width:"100%",display:"flex",flexDirection:"row"},children:[(0,j.jsx)(o.Z,{variant:"body1",sx:{width:"50%"},textAlign:"left",children:"Date Created:"}),(0,j.jsx)(o.Z,{variant:"body1",sx:{width:"50%"},textAlign:"right",children:P})]}),(0,j.jsx)(c.Z,{}),(0,j.jsxs)(r.Z,{sx:{width:"100%",display:"flex",flexDirection:"row"},children:[(0,j.jsx)(o.Z,{variant:"body1",sx:{width:"50%"},textAlign:"left",children:"Goal:"}),(0,j.jsxs)(o.Z,{variant:"body1",sx:{width:"50%"},textAlign:"right",children:[e.goal," MATIC"]})]}),(0,j.jsx)(c.Z,{}),(0,j.jsxs)(r.Z,{sx:{width:"100%",display:"flex",flexDirection:"row"},children:[(0,j.jsx)(o.Z,{variant:"body1",sx:{width:"50%"},textAlign:"left",children:"Total raised:"}),(0,j.jsxs)(o.Z,{variant:"body1",sx:{width:"50%"},textAlign:"right",children:[b," MATIC"]})]}),(0,j.jsx)(c.Z,{}),(0,j.jsxs)(r.Z,{sx:{width:"100%",display:"flex",flexDirection:"row"},children:[(0,j.jsx)(o.Z,{variant:"body1",sx:{width:"50%"},textAlign:"left",children:"View on blockchain:"}),(0,j.jsx)(d.Z,{href:"https://mumbai.polygonscan.com/address/".concat(e.address),sx:{width:"50%",textDecoration:"none"},target:"_blank",children:(0,j.jsx)(o.Z,{variant:"body1",textAlign:"right",children:R})})]})]})]})]}),(0,j.jsxs)(r.Z,{sx:{display:"flex",flexDirection:"column",width:{md:"34%",xs:"100%"},height:"100%",justifyContent:"center"},children:[(0,j.jsx)(S,{campaign:e}),(0,j.jsx)(r.Z,{sx:{display:"flex",width:"100%",justifyContent:"center"},children:(0,j.jsxs)(r.Z,{sx:{display:"flex",flexDirection:"column",width:"95%",height:"255px",boxShadow:"rgba(149, 157, 165, 0.2) 0px 8px 24px",alignContent:"center",alignItems:"center"},children:[(0,j.jsx)(o.Z,{mt:3,mb:2,variant:"h5",textAlign:"center",children:"Creator"}),(0,j.jsxs)(o.Z,{mb:2,variant:"h5",fontWeight:500,textAlign:"center",children:[M.first_name," ",M.last_name]}),(0,j.jsxs)(r.Z,{sx:{width:"100%",mb:2,display:"flex",flexDirection:"row"},children:[(0,j.jsx)(r.Z,{sx:{width:"50%",display:"flex",justifyContent:"center"},children:(0,j.jsx)(T.Z,{user:M,size:75})}),(0,j.jsxs)(I.Z,{sx:{width:"50%",justifyContent:"center",alignItems:"center"},children:[(0,j.jsx)(o.Z,{children:p}),(0,j.jsx)(o.Z,{children:"Campaigns"})]})]}),(0,j.jsx)(l.Z,{variant:"contained",href:"/users/".concat(e.creator),children:"View Profile"})]})})]})]})]})},k=function(){var t=(0,x.UO)().id,e=(0,s.useState)(null),i=(0,n.Z)(e,2),r=i[0],a=i[1];return(0,s.useEffect)((function(){L.Z.get("/campaigns/".concat(t)).then((function(t){a(t.data)})).catch((function(t){console.error(t),console.log(t.response.data)}))}),[t]),r?(0,j.jsx)(M,{campaign:r}):(0,j.jsx)("h1",{children:"Loading..."})}},59061:function(t){t.exports=JSON.parse('[{"name":"getTotalDeposits","type":"function","stateMutability":"view","inputs":[],"outputs":[{"internalType":"uint256","name":"","type":"uint256"}]}]')}}]);
//# sourceMappingURL=611.088ad76d.chunk.js.map